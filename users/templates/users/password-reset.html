{% extends 'layout.html' %}

{% block title %}
    Request password reset
{% endblock %}

{% block main %}
    <div class='container-fluid pt-2 pb-5'>

        <!-- boostrap5 loading spinner -->
        <div id='loadingSpinner' class='d-flex align-items-center justify-content-center' style='position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.7); z-index: 9999;'>
            <div>
            <strong>Loading...</strong>
            <div class='spinner-border ms-auto' role='status' aria-hidden='true'></div>
            </div>
        </div>
        <!-- /boostrap5 loading spinner -->

        <!-- instructional text -->
        <div class='container-fluid ps-0 mb-1'>
            <div class='container-instructions-start-bold'>
                Please enter your email address below. If the email address you provide is registered, you will receive an email with instructions to reset your password. Please do not forget to check your spam folder!
            </div>
            <div class='container-instructions-start'>
                Required fields
            </div>
        </div>
        <!-- /instructional text -->

        <!-- PasswordReset form -->
        <form action='{% url "users:password_reset" %}' id='register-form' method='post'>
            {% csrf_token %}
            {{ form.non_field_errors }}
            
            <!-- email -->
            <div class='user_input_registration row'>
                <div class='col-sm-2' style='align-self: flex-start; text-align: start'>
                    <label for='id_email' class='form-label-start-req-bold'>Email address:</label>
                </div>
                <div class='col-11 col-sm-8 col-md-6 col-lg-4'>
                    {{ form.email }}
                    {% if form.email.errors %}
                        <div class='text-danger mt-2'>
                            {% for error in form.email.errors %}
                                {{ error }}
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
            <!-- /email -->

            <!-- cancel and submit buttons-->
            <div class='row' style='margin-top: 10px; margin-bottom: 10px;'>
                <div class='col-sm-6 col-md-4 col-lg-3 mb-1'>
                    <a href='{% url "users:login" %}' class='btn btn-secondary w-100' id='cancel_button'>Cancel</a>
                </div>
                <div class='col-sm-6 col-md-4 col-lg-3 mb-1'>
                    <button type='submit' class='btn btn-success w-100' id='submit_button' disabled>Reset password</button>
                </div>
            </div>
            <!-- /cancel and submit buttons-->

        </form>
        <!-- PasswordReset form -->

    </div>
{% endblock %}